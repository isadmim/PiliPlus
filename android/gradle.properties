# GitHub Actions 专为云构建优化的配置
org.gradle.jvmargs=-Xmx4g -XX:MaxMetaspaceSize=1g -Dfile.encoding=UTF-8
org.gradle.parallel=true
org.gradle.caching=true
org.gradle.daemon=false  # GitHub Actions上禁用daemon
org.gradle.configureondemand=true

# R8完全优化（减少APK大小和运行时内存）
android.enableR8=true
android.enableR8.fullMode=true

# Kotlin增量编译
kotlin.incremental=true

# 仅保留arm64架构（减少APK大小）
android.defaultConfig.ndk {
    abiFilters.add("arm64-v8a")
}

# 启用资源缩减和代码混淆
android.buildTypes.release {
    minifyEnabled true
    shrinkResources true
    proguardFiles("proguard-android-optimize.txt", "proguard-rules.pro")
}